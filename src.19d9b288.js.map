{"version":3,"sources":["js/apiService.js","js/search.js","index.js"],"names":["BASE_URL","API_KEY","PixaApiService","constructor","searchQuery","page","fetchImages","console","log","url","fetch","then","r","json","data","resetPage","query","newQuery","searchForm","document","querySelector","articlesContainer","loadMoreBtn","pixaApiService","onSearch","e","preventDefault","currentTarget","elements","value","onLoadMore","addEventListener"],"mappings":";;;AAGoC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAHpC,MAAMA,EAAW,2BACXC,EAAU,qCAED,MAAMC,EACnBC,cACOC,KAAAA,YAAc,GACdC,KAAAA,KAAO,EAGdC,cACEC,QAAQC,IAAI,MAENC,MAAAA,KAAST,gDAAuD,KAAKI,oBAAoB,KAAKC,wBAAwBJ,IAE5HS,MAAMD,GACHE,KAAKC,GAAKA,EAAEC,QACZF,KAAKG,IACCT,KAAAA,MAAQ,IAInBU,YACOV,KAAAA,KAAO,EAGVW,YACK,OAAA,KAAKZ,YAGVY,UAAMC,GACHb,KAAAA,YAAca,GA3Ba,QAAA,QAAA;;ACmBnC,aAtBD,IAAA,EAAA,EAAA,QAAA,iBAsBC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GApBD,MAAMC,EAAaC,SAASC,cAAc,gBACpCC,EAAoBF,SAASC,cAAc,YAC3CE,EAAcH,SAASC,cAAc,2BAC3Cb,QAAQC,IAAIc,GAEZ,MAAMC,EAAiB,IAAIrB,EAAJ,QAKvB,SAASsB,EAASC,GAChBA,EAAEC,iBAEFH,EAAeP,MAAQS,EAAEE,cAAcC,SAASZ,MAAMa,MACtDN,EAAeR,YACfQ,EAAejB,cAGjB,SAASwB,IACPP,EAAejB,cAZjBY,EAAWa,iBAAiB,SAAUP,GACtCF,EAAYS,iBAAiB,QAASD;;ACRtC,aAFA,QAAA,oBACA,QAAA,eACA,QAAA","file":"src.19d9b288.js","sourceRoot":"../src","sourcesContent":["const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '22088587-b9222ac51e20698a54a4430fc';\n\nexport default class PixaApiService {\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n  }\n\n  fetchImages() {\n    console.log(this);\n\n    const url = `${BASE_URL}/?image_type=photo&orientation=horizontal&q=${this.searchQuery}&page=${this.page}&per_page=12&key=${API_KEY}`;\n\n    fetch(url)\n      .then(r => r.json())\n      .then(data => {\n        this.page += 1;\n      });\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n}\n","import PixaApiService from './apiService';\n\nconst searchForm = document.querySelector('#search-form');\nconst articlesContainer = document.querySelector('.gallery');\nconst loadMoreBtn = document.querySelector('[data-action=\"load-more');\nconsole.log(loadMoreBtn);\n\nconst pixaApiService = new PixaApiService();\n\nsearchForm.addEventListener('submit', onSearch);\nloadMoreBtn.addEventListener('click', onLoadMore);\n\nfunction onSearch(e) {\n  e.preventDefault();\n\n  pixaApiService.query = e.currentTarget.elements.query.value;\n  pixaApiService.resetPage();\n  pixaApiService.fetchImages();\n}\n\nfunction onLoadMore() {\n  pixaApiService.fetchImages();\n}\n","import './sass/main.scss';\nimport './js/search';\nimport './js/apiService';\n"]}